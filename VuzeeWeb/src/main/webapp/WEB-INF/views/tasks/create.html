<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/main">
<head>
<title>Crear Tarea</title>
</head>
<body>
	<div layout:fragment="content">
		<section class="content-header">
		    <h1>Crear Tarea</h1>
		    <ol class="breadcrumb">
		        <li><a th:href="@{/}"><i class="fa fa-dashboard"></i> Home</a></li>
		        <li class="active">Tareas</li>
    		</ol>
		</section>
		<section class="content">
		<form action="#" th:action="@{/tasks/create}" th:object="${taskCreateViewModel}" method="post">
        <div class="row">
            <!-- left column -->
            <div class="col-md-12">
                <!-- general form elements -->
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title"></h3>
                    </div>
                    <!-- /.box-header -->
                    <!-- form start -->
                        <div class="box-body">
                        	<div class="form-group">
                                 <label class="control-label">Candidato</label>
                                 <select th:field="*{selectedCandidateId}" class="form-control">
    								<option th:each="type : ${elegibleCandidates}" th:value="${type.id}" th:text="${type.name}">Name</option>
								</select>
                                 
                           </div>
                           <div class="form-group">
                                  <label class="control-label">TÃ­tulo</label>
                                 <input type="text" th:field="*{title}" class="form-control" />
                                 <span th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="text-danger"></span>                               
                           </div>
                           <div class="form-group">
                                 <label class="control-label">Instrucciones</label>
                                 <textarea rows="2"  th:field="*{instructions}" class="form-control">
								</textarea>
                                 <span th:if="${#fields.hasErrors('instructions')}" th:errors="*{instructions}" class="text-danger"></span>
                           </div>
                           <div class="form-group">
                                 <label class="control-label">Fecha esperada</label>
                                 <input type="text"  th:field="*{taskDate}" class="form-control datechooser" />
								
                                 <span th:if="${#fields.hasErrors('taskDate')}" th:errors="*{taskDate}" class="text-danger"></span>
                           </div>
                            <div class="form-group">
                                 <label class="control-label">Requiere rating</label>
                                 <input type="checkbox" th:field="*{hasRating}" />
                                 <span th:if="${#fields.hasErrors('hasRating')}" th:errors="*{hasRating}" class="text-danger"></span>
                           </div>
                           
                        </div>
                        <!-- /.box-body -->

                        <div class="box-footer">
                            <button type="submit" class="btn btn-primary">
                            <i class="ion-android-checkmark-circle"></i>Guardar</button>
                        </div>
                    
                </div>
                </div>
                
            </div>
            </form>
            
        </section>
	
	</div>
	<th:block layout:fragment="scripts">
	<link rel="stylesheet" th:href="@{/resources/bootstrap-datepicker/dist/css/bootstrap-datepicker.css}" />
	<script th:src="@{/resources/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js}"></script>
	
	<script th:inline="javascript">
    var jscontroller = (function(){
    	
    	var start =function(){
    		$(".datechooser").datepicker({
    		    format: 'dd-mm-yyyy',
    		    startDate: '-3d'
    		});
    	}
    	return {start:start}
    	})();
    	
    
    $(function () {
         
        jscontroller.start();
        
    })
   
    	</script>
    
	</th:block>
	
	
</body>
</html>